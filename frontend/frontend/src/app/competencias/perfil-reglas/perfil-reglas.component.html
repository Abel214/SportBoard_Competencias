<div class="contenedor-principal">
    <div class="container">
        <mat-card class="competencia-form">
            <div class="info-y-formulario">

                <!-- Información de la competencia -->
                <div class="player-info">
                    <img src="https://www.freepnglogos.com/uploads/lol-logo-png/lol-world-championship-liquipedia-league-of-legends-24.png"
                         alt="Competencia Logo"
                         class="team-logo" />
                    <h2>LIGA UNL</h2>
                    <p><strong>N° Equipos: </strong> 30</p>
                    <p><strong>Fecha de inicio: </strong> 29/06/2022</p>
                    <button class="custom-button save-button">Modificar</button>
                </div>

                <!-- Formulario de administración de reglas -->
                <div class="player-details">
                    <mat-card-title class="form-title">Administrar Reglas de Competencia</mat-card-title>

                    <!-- Combobox para tipo de competencia -->
                    <label for="tipo-competencia">Tipo de Competencia:</label>
                    <select id="tipo-competencia" [(ngModel)]="tipoCompetencia">
                        <option value="Liga">Liga</option>
                        <option value="Torneo">Torneo</option>
                        <option value="Eliminatoria">Eliminatoria</option>
                    </select>

                    <!-- Campo de Descripción de la Regla -->
                    <mat-form-field appearance="outline" class="descripcion-regla">
                        <mat-label>Descripción de la Regla</mat-label>
                        <input matInput placeholder="Ingrese la descripción de la regla" [(ngModel)]="descripcionRegla" name="descripcionRegla" required>
                    </mat-form-field>

                    <div class="button-container">
                        <button class="custom-button save-button" (click)="agregarRegla()">Agregar Regla</button>
                        <button class="custom-button save-button" (click)="modificarRegla()">Modificar Regla</button>
                        <button class="custom-button save-button" (click)="eliminarRegla()">Eliminar Regla</button>
                    </div>

                    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

                    <!-- Tabla de Reglas guardadas, ahora debajo de los botones -->
                    <mat-card *ngIf="reglas.length > 0" class="tabla-reglas">
                        <mat-card-title>Reglas Guardadas</mat-card-title>
                        <table mat-table [dataSource]="reglas" class="mat-elevation-z8">
                            <!-- Columna de Descripción de la Regla -->
                            <ng-container matColumnDef="descripcion">
                                <th mat-header-cell *matHeaderCellDef> Descripción de la Regla </th>
                                <td mat-cell *matCellDef="let regla" (click)="seleccionarRegla(regla)"> {{regla.descripcion}} </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="seleccionarRegla(row)"></tr>
                        </table>
                    </mat-card>
                </div>
            </div>
        </mat-card>
    </div>
</div>
